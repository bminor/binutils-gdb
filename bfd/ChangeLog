Thu Oct 24 22:40:07 1991  John Gilmore  (gnu at cygnus.com)

	RS/6000 support, by Metin G. Ozisik, Mimi Phûông-Thåo Võ, and
	John Gilmore.

	* Makefile.in:  Add cpu-rs6000.c and rs6000coff.c.
	* configure.in:  Add rs6000 case.
	* targets.c:  Add rs6000 vector.
	* archures.c:  Add rs6000, fix comment on romp.
	* bfd-in.h (enum bfd_error):  Add no_debug_section error.
	* libcoff-in.h (struct coff_tdata):  Remove unused string_table.
	* bfd.c (bfd_errmsgs):  Add no_debug_section error message.
	* section.c (bfd_make_section):  Return NULL on attempt to create
	a section twice.
	* coffcode.h (bfd_swap_reloc_in):  Handle r_type and r_size.
	(bfd_swap_aouthdr_in):  Handle lots more members.
	(make_a_section_from_file):  If section has already been seen,
	just return false rather than overwriting it.
	(coff_real_object_p):  Understand incoming magic numbers.
	(coff_set_flags):  Understand outgoing magic numbers.
	(coff_compute_section_file_positions):  outgoing aouthdr magic #.
	(build_debug_section):  Add fn for reading debug string section.
	(get_normalized_symtab):  Handle symbol names in debug string section.
	Remove unused obj_string_table.
	(coff_slurp_symbol_table):  Handle rs6000-specific storage classes.
	* aoutx.h (translate_from_native_sym_flags, N_SET*):  Check for
	existing section before making one.

Thu Oct 24 02:03:24 1991  Fred Fish  (fnf at cygnus.com)

	* elf.c: Add partial support for ELF format corefiles. Still needs
	support for extracting registers from corefiles.

	* config/t-m68k-elf:  Set DEFAULT_VECTOR to elf_big_vec.

	* config/{h-amix,h-dgux,h-irix3,h-ultra3}: For systems where
	RANLIB is defined as echo, send the output to /dev/null to help
	reduce clutter in the output from doing a make.

Mon Oct 21 17:48:48 1991  John Gilmore  (gnu at cygnus.com)

	* hosts/h-vaxult.h:  Remove malloc/free decls covered in stdlib.h.
	Fix HOST_PAGE_SIZE and HOST_SEGMENT_SIZE.  From David Taylor.

Mon Oct 21 09:34:11 1991  Steve Chamberlain  (steve at rtl.cygnus.com)

	* coffcode.h (coff_compute_section_file_positions): make it pad
	section size out if there are alignment restrictions so that the
	image will be ok on a system where section positions are worked
	out by accumulating sizes rather than from the section headers.
	* targets.c (proto write_armap). Changed orl_count to unsigned.
	* opncls.c (bfd_close_all_done). Added so that generative
	programs like gas can close a bfd without causing bfd confusion.
	* libbfd.h (changed becuase of protos)
	* amdcoff.c: messed with the way that jmp displacements are
	calcualated. This may not yet be totally correct.
	* archive.c (coff_write_armap): rewrote the way that ranlibs are
	written out.
	* coffcode.h (fixup_symbol_value): now doesn't core dump if a non
	abs symbol has no section (like a register symbol).
	(coff_write_symbol) now zeros auxent before filling it up to help
	with sensitive applications.
	* libbfd.c (bfd_write_bigendian_4byte_int): added.
	
Wed Oct 16 22:58:45 1991  John Gilmore  (gnu at cygnus.com)

	* bfd.c:  Make sure we don't get a macro strerror().
	* opncls.c (bfd_fdopenr):  If FASCIST_FDOPEN, use "r", not "r+".
	* trad-core.c (trad_unix_core_file_failing_command):  Suppress
	attempt to recover command, ifdef NO_CORE_COMMAND.
	* hosts/h-tahoe.h:  Add FASCIST_FDOPEN and NO_CORE_COMMAND;
	revamp HOST_*, etc.
	* hosts/h-i386v.h:  Use <utime.h>, not <sys/utime.h>, unlike POSIX.

Wed Oct 16 12:43:49 1991  Per Bothner  (bothner at cygnus.com)

	* archive.c (bsd_write_argmap): The size of the ranlib structures
	should not include the size field itself.
	* aoutx.h, libaout.h (NAME(aout, sizeof_headers)):  Use
	adata(abfd)->exec_bytes_size field instead of constant macro,
	because aoutx.h compiles to a simple .o file shared by
	all 32-bits a.out targets.

Wed Oct 16 11:11:05 1991  John Gilmore  (gnu at cygnus.com)

	* configure.in:  Allow i386-sco-sysv.
	* bout.c:  Remove unused i960_align; lint dummy core file handlers.
	* cpu-h8300.c:  lint.

	* host-aout.c:  New strategy.  We use common code, include files,
	and data structures to handle the file, but set a few parameters
	from the host's config file (page size, text start addr, etc).
	* libaout.h:  Define HP BSD machine types.
	* aoutf1.h:  Handle reading a.outs with these types.

	* trad-core.c:  Pass the u.u_ar0 value as the negative of the
	virtual-memory-address of the .reg section.  We can't just make a
	section for "all the regs and nothing else" because only GDB knows
	exactly where the regs are (scattered around the upage and stack).
	Clean up memory allocation.  Remove big- and little-endian
	vectors, replace with single vector; this only runs on the host,
	in host byte order.  Replace byteswap routines with aborts in case
	anyone calls them.
	* targets.c:  There's only one trad_core_vec now.
	* aoutf1.h (sunos_core_file_p):  VMA of .reg* now needs to be 0.

Tue Oct 15 08:29:03 1991  John Gilmore  (gnu at cygnus.com)

	* hosts/h-amix.h (free):  Fix prototype.

	* aoutx.h:  Don't use NULL as an integer, for braindead systems
	that declare it as (void *)0.  (From Peter Schauer.)

Mon Oct 14 17:20:47 1991  Per Bothner  (bothner at cygnus.com)

	* opncls.c (bfd_fdopenr):  Add parentheses to avoid reported
	problem with bad Ultrix system headers.
	* aoutx.h (NAME(aout,set_section_contents)):  Try to handle the
	various kinds of alignments for the various kinds of
	magic numbers.

Mon Oct 14 14:23:10 1991  John Gilmore  (gnu at cygnus.com)

	* doc/Makefile:  Don't assume . is on the path (from James Clark).

Fri Oct 11 22:45:14 1991  John Gilmore  (gnu at cygnus.com)

	* Makefile.in:  Avoid Sun Make VPATH bugs.
	* targets.c:  Declare trad_core vectors extern.

Fri Oct 11 13:03:02 1991  Per Bothner  (bothner at cygnus.com)

	* coffcode.h: Moved ALIGN macro to libbfd.h. Removed i960_align.
	* libbfd.h: Moved ALIGN macro here.
	* bout.c (b_out_callback): Replace i960_align by align_power.

	* libaout.h (struct aoutdata):  Added fields page_size,
	segment_size and exec_bytes_size.  These help generic code
	(in aoutx.h and libaout.h) to figure out where to align
	the various segments in a demand paged file.
	* libaout.h (WRITE_HEADER):  Use new (struct aoutdata) fields
	to decide if the exec header counts in a_text (text segment size).
	Also, assume D_PAGED flag is set; don't set it here.
	* bout.c (b_out_callback): Add initialization of
	adata fields page_size, segment_size, and exec_bytes_size.
	* host-aout.c (NAME(host_aout, callback) and
	NAME(host_aout,mkobject): Ditto.
	* i386aout.c (aout386_callback) and new aout386_mkobject): Ditto.
	* newos3.c (newsos3_callback) and new newsos_mkobject): Ditto.
	* aoutf1.c (sunos4_callback) and new sunos_mkobject): Ditto.
	* aoutx.h (NAME(aout,some_aout_object_p)): Don't subtract
	EXEC_BYTES_SIZE from the a_test size; this is only appropriate
	for some systems (mainly sunos), so do it in the callback instead.
	Same routine: Add stuff to the THIS_IS_ONLY_DOCUMENTATION comment.
	* aoutx.h (NAME(aout,set_section_contents): Change the way
	filepos and size of sections are carried out to support
	older styles of demand paged executables.
	

Fri Oct 11 12:33:36 1991  Steve Chamberlain  (steve at cygnus.com)

	* bfd-in.h: Added more macros to COFF_SWAP_TABLE.
	* bfd.c: Added macros to enable gas to swap coff records.
	* coffcode.h: Make the coff_swap_*_out routines return the number
	of bytes swapped, and cleaned up their prototypes.
	* configure.in: Added ebmon/coff support
	* ecoff.c: Changed null definitions of coff_swap_*_out to conform
	to new prototypes
	* targets.c: Added new entry points for coff swapping

Fri Oct 11 03:01:52 1991  John Gilmore  (gnu at cygnus.com)

	Restructure configuration scheme for bfd, binutils, ld.

	* include/sys/h-*.h:  Move to bfd/hosts/h-*.h.
	* configure.in:  Revise to symlink sysdep.h to hosts/h-xxx.h.
	Change some config names to match other dirs.
	* *.c:  Include bfd.h before sysdep.h, so ansidecl and PROTO()
	get defined first.
	* Makefile.in:  Use -I. to get sysdep.h.  Remove refs to
	../include/sysdep.h.
	* cpu-i960.c:  Strncmp needed a length arg.
	* ecoff.c:  Don't ever call trad_unix_core_file_p from here.
	* i386aout.c:  Remove dead N_TXTOFF override.
	* trad-core.c:  Don't disable the whole file if SUN4_SYS.
	* config/:  Rename some config files to match up h-*.h names.
	Remove all the HOST_SYS definitions from the config files.
	* hosts/h-amix.h, h-i386v.h:  Define POSIX_UTIME, not USG.
	* hosts/h-hp9000.h:  Remove USG comment.
	* hosts/h-rs6000.h:  Include <stdlib.h> for malloc.
	* hosts/h-news.h, h-sparc-64.h:  New config files that had
	previously been kludged in the <sysdep.h> file.

Thu Oct 10 17:54:08 1991  John Gilmore  (gnu at cygnus.com)

	* config/*:  trad-core support is HOST dependent, not target
	dependent.  Target config files only set DEFAULT_VECTOR and/or
	other vector elements.  Exception:  when host-aout.c is in use,
	in which case we're forced to assume we're native (hp, vax,
	tahoe).  Rename XDEPFILES to HDEPFILES.
	* Makefile.in:  Rename XDEPFILES.
	* config/h-sun*:  Don't force static linking.
	* trad-core.c:  Document how to use it nowadays.
	* i386aout.c, newsos3.c:  Clean up.
	* i386coff.c:  Allow 386 coff files to be used as core files too
	(for reading core files from embedded systems).

Tue Oct  8 15:30:39 1991  John Gilmore  (gnu at cygnus.com)

	* Add i386aout.c for a.out support on the i386.

Tue Oct  8 12:18:54 1991  Roland H. Pesch  (pesch at cygnus.com)

	* reloc.c, section.c, syms.c, targets.c: correct info-node
	structure in *doc* comments.
	doc/Makefile: stop hiding complaints from makeinfo.

Sun Oct  6 19:10:06 1991  John Gilmore  (gnu at cygnus.com)

	* aoutx.h (...some_aout_object_p):  Take a third parameter,
	the internal_exec struct, and avoid ever looking at an
	external_exec.  All callers changed to read the entire
	external_exec struct, swap and check its magic number, 
	swap in the whole structure, and pass the swapped-in version to
	some_aout_object_p.
	* bout.c:  Bring into modern era.  Use single _object_p routine
	for big- aand little-endian.  Provide internal and external
	exec header structs.  Use separate swap-in and swap-out routines.

	* libaout.h:  Move struct internal_exec from ../include/aout64.h
	to here.  Add obj_symbol_entry_size to struct aoutdata.
	* aoutx.h (...some_aout_object_p):  Set obj_symbol_entry_size.

	* ../include/aout64.h:  Change EXTERNAL_LIST_SIZE to
	EXTERNAL_NLIST_SIZE.  Callers changed.
	
Fri Oct  4 18:18:46 1991  John Gilmore  (gnu at cygnus.com)

	* bfd.c:  Remove strerror() to libiberty.

	* elf.c:  Remove elf_set_section_contents, use generic one.  Lint.
	* libbfd-in.h, libbfd.c:  Add bfd_generic_set_section_contents.
	* libbfd.c (bfd_generic_{get,set}_section_contents):  Check that
	last byte of transfer, not first byte, is within the section.

	* host-aout.c:  Remove `BSD' archive support.  Lint.

	* archures.c: Rename `struct bfd_arch_info_struct' to `struct
	bfd_arch_info'.  Rename `typedef bfd_arch_info_struct_type' to
	`bfd_arch_info_type'.  All uses changed.
	* reloc.c:  Rename `bfd_reloc_status_enum_type' to
	`bfd_reloc_status_type'.  Rename `bfd_reloc_code_enum_real_type'
	to `bfd_reloc_code_real_type'.  (This seems to be a misnomer,
	it needs a better name.)  All uses changed.
	* targets.c:  Rename `enum target_flavour_enum' to `enum
	target_flavour', and remove the `_enum' from all of the enum
	values themselves.  All uses changed.

	* configure.in, config/h-i386mach:  i386 mach host.
	* config/t-i386-aout:  Use host-aout.c.

	* trad-core.c:  Give it its own xvec's to make it independent
	of other file formats.
	* ecoff.c, host-aout.c:  Remove refs to trad-core.
	* config/t-dec3100, t-hp300bsd, t-tahoe, t-vax:  Define TRAD_CORE.
	* targets.c:  #ifdef TRAD_CORE, include it in the vector.

Fri Oct  4 17:38:03 1991  Steve Chamberlain  (steve at cygnus.com)

	* reloc.c: Extended NEWHOWTO macro
	* ieee.c: Changed the way 8bit pcrel is done
	* cpu-h8300.c: got the registers in the right order

Thu Oct  3 19:39:55 1991  John Gilmore  (gnu at cygnus.com)

	* bfd-in.h:  enum boolean => enum bfd_boolean for SVR4.  Gumby's
	prediction is vindicated!

	* bfd-in.h, libbfd-in.h, doc/Makefile, doc/tolibbfd, doc/intobfd:
	Remove refs to howto.c, since Steve forgot.

Thu Oct  3 07:49:21 1991  Steve Chamberlain  (steve at cygnus.com)

	* elf.c: took the abort out of set_arch_mach so that objdump -i will
	still work. Now allows any architecture/machine to be set.

Wed Oct  2 13:50:35 1991  Steve Chamberlain  (steve at cygnus.com)

	* howto.c deleted and moved code to reloc.c

	* libbfd.h, libbfd-in.h removed $id stuff for real

	* cpu-h8300.c Made it match various different spellings of h8300.

	* archures.c: Took out the first char filter which made it only
	look for a cpu/arch match when the first chars of supplied and
	tested names were the same.
	
	* targets.c removed oasys stuff, pending someone to fix the bugs
	in it.


Tue Oct  1 12:29:44 1991  John Gilmore  (gnu at cygnus.com)

	* Makefile.in, configure.in, targets.c, elf.c:  Add preliminary
	ELF support good enough for GDB.
	* configure.in, config/h-amix, config/t-m68k-elf:  Handle
	m68k-cbm-svr4 host and target.
	* config/t-m68k-coff, t-m88k-coff, t-m88k-aout:  Make files nonempty
	so `diff' and `patch' can cope.

Tue Oct  1 11:24:31 1991  Steve Chamberlain  (steve at cygnus.com)

	* archures.c: removed texinfo error

	* init.c: added texinfo hooks, and removed initialization error
	message.

	* libcoff-in.h, libbfd-in.h removed $id field so cvs can merge
	without complaints.

Tue Oct  1 05:02:53 1991  John Gilmore  (gnu at cygnus.com)

	* cpu-i960.c:  Avoid numerical count of initializers.

	Vax Ultrix changes from David Taylor <taylor@think.com>:
	* host-aout.c:  Make little-endian vector really little-endian.
	* configure.in:  Separate vax and tahoe cases, handle ultrix.
	* config/t-vax:  Add trad-core.o.
	* config/h-vaxult:  New host system.

Mon Sep 30 15:13:46 1991  Steve Chamberlain  (steve at cygnus.com)

	* bfd-in.h VERSION, change version number to 0.18, this makes a
	gap, but now is the same as the linker version number.

	* cpu-a29k.c, cpu-i386.c, cpu-m68k.c, cpu-mips.c, cpu-vax.c,
	cpu-h8300.c, cpu-i960.c, cpu-m88k.c, cpu-sparc.c: added. These
	files will eventually contain processor specific bits for bfd,
	like strange relocation information and dis/assembly.  So far only
	the H8 has been even partially done.  This work also ties in with
	the change in handling architectures.

	* amdcoff.c: (a29k_reloc) fix error message.

	* aout-f1.h: (choose_reloc_size) now calls bfd_get_arch to
	discover the architecture of the bfd. (sunos4_callback) calls the
	function bfd_set_arch_mach rather than stuffing stuff directly
	into the bfd. (sunos4_write_object_contents), changed names of
	accessor functions.

	* aoutx.h: (set_arch_mach) now calls bfd_default_set_arch_mach to
	setup the environment.

	* archive.c: (bfd_slurp_coff_armap) coff archives always have the
	headers in big endian format, regardless of the endianess of the
	host or target.

	* archures.c: totally changed. Now an architecture is represented
	with a pointer to an info structure rather than an enumerated type
	and a long. The old info is available as two elements in the
	structure.  Future enhancements to architecure support will
	involve pointers to methods being placed into the info structure.

	* bfd.c: changed the definition of the bfd structure for the new
	architecture stuff.

	* bout.c: (b_out_set_arch_mach) changed to use the new
	architecture mechanism.

	* coffcode.h: (coff_set_arch_mach, coff_set_flags) changed to use
	the new architecture mechanism.

	* configure.in: added h8 stuff.

	* ieee.c: too many changes to note.  Now ieee files written with
	bfd gas and ld can be read by gld and ieee only linkers and
	simulators.

	* libbfd.c, libbfd.h: changed prototype of bfd_write.
	
	* newsos3.c: (newos3_callback) now calls bfd_set_arch_mach rather
	than fixing the structure directly.

	* oasys.c: (oasys_object_p) now calls bfd_default_set_arch_mach rather
	than fixing the structure directly.

	* opncls.c: (new_bfd) makes sure that bfd_init has been called
	before opening a bfd.

	* srec.c: (srec_set_arch_mach) now calls bfd_default_set_arch_mach
	rather than fixing the structure directly.

	* targets.c: (target_vector) now by defining SELECT_VECS (perhaps
	in the t/hmake file) a user can select which backends they want
	linked with bfd without changing the source.

	* init.c: new, looks after initializing modules.

	* howto.c: for future use, will allow an application to work out
	what cookie to use as a handle on a relcoatio howto.
	
Mon Sep 30 13:31:15 1991  John Gilmore  (gnu at cygnus.com)

	* srec.c:  Better error checking, partly from Peter Schauer.
	(srec_object_p):  Avoid assuming any file that starts with 'S' is
	an S-record file!  (Check for 3 uppercase-hex digits after it.)
	(ISHEX):  Define new macro for checking supposedly hex characters.
	(pass_over):  Treat as EOF any S-record line that:
	    *  doesn't have hex in either size character
	    *  produces a size larger than 0x7F
	    *  has an unrecognized type number

Thu Sep 26 15:27:29 1991  John Gilmore  (gnu at cygnus.com)

	* aoutf1.h, aoutx.h, bout.c, coffcode.h, host-aout.c, oasys.c,
	opncls.c:  Lint (saber actually).

Thu Sep 26 11:24:24 1991  Per Bothner  (bothner at cygnus.com)

	* libaout.h (WRITE_HEADERS): Set header's a_text field always.
	* newsos3.c: Fixed two types: newos3 -> newsos3.
	* reloc.c (bfd_perform_relocation): Fix pc-relative relocation
	to use correct segment.

Mon Sep 23 18:24:34 1991  Per Bothner  (bothner at cygnus.com)

	* aoutx.h (print_symbol):  Handle missing symbol->name.

Fri Sep 20 12:26:01 1991  Stu Grossman  (grossman at cygnus.com)

	* aoutf1.h (swapcore_sparc):  Change name of USRSTACK, fix comment
	at top of routine.

Tue Sep 17 17:23:49 1991  Stu Grossman  (grossman at cygnus.com)

	* oasys.c, configure.in, config/h-irix3, config/t-irix3:
	add sgi/irix support.

Thu Sep 12 14:29:09 1991  John Gilmore  (gnu at cygint.cygnus.com)

	Changes for the AMD 29000 Ultracomputer port from David Wood.
	(wood@nyu.edu).

	* opncls.c (bfd_fdopenr):  Handle NO_FCNTL.

	* Makefile.in:  Make subdirs work by using $(INCDIR) in the
	crude dependencies.

	* coffcode.h (coff_real_object_p):  Pass information about the
	current file's coff symbol format to BFD via the coff_data struct.
	(coff_find_nearest_line):  obj_icof => coff_data.
	(coff_swap_sym_{in,out}):  Check that SYMNMLEN == E_SYMNMLEN.
	(coff_swap_aux_{in,out}):  Check that FILNMLEN == E_FILNMLEN
	and DIMNUM == E_DIMNUM.
	* configure.in:  Handle a29k-*-* hosts, and targets 
	a29k-*-coff, a29k-*-aout, and a29k-*-sym1.
	* libcoff-in.h:  Add local_n_btmask, local_n_btshft,
	local_n_tmask, local_n_tshift, local_symesz, local_auxesz,
	local_linesz to `coff_data' (tdata) struct.	
	(coff_data, coff_data_type, coff_tdata):  Rename struct icofdata.
	* config/h-ultra3:  Handle a29k-*-* hosts as Ultracomputers.

Thu Sep 12 14:07:22 1991  Roland H. Pesch  (pesch at cygint.cygnus.com)

	* Makefile.in: $(MAKE) for make, $(docdir) for doc
	* doc/Makefile: redundant dependencies for Sun-make VPATH bug

Tue Sep 10 20:34:12 1991  John Gilmore  (gnu at cygint.cygnus.com)

	* aoutf1.h (sunos4_core_file_p):  Release the right storage in
	error case.
	(sunos4_core_file_matches_executable_p):  Fix header comparison.
	* aoutx.h:  Avoid shifts of 32 bits, undefined in C.  Lint.
	* bout.c, icoff.c, ieee.c, libbfd.c, oasys.c:  gcc -O -W lint.

Wed Sep  4 00:44:52 1991  John Gilmore  (gnu at cygint.cygnus.com)

	Allow GDB to patch object files.

	* aoutf1.h (sunos_core_file_p):  Set SEC_HAS_CONTENTS on all sections.
	* trad-core.h (trad_unix_core_file_p):  Ditto.
	* aoutx.h (aout_set_section_contents):  On first output, check
	abfd->direction and complain if erroneous.

	* Makefile.in:  Add crude dependencies.

Tue Sep  3 13:46:19 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* config/* aoutx.h configure* shortened all the h/tmake-xxxx
	to h/t-xxxx files so that everything will work on System V.

Fri Aug 23 13:51:06 1991  John Gilmore  (gnu at cygint.cygnus.com)

	* aoutx.h:  Add information on host-aout.c and how to configure
	to use it, to the manual.
	* configure.in:  Tix typo.
	* ecoff.c:  If compiling for DEC3100, use trad_unix core files,
	else dummy out the core file support.
	* trad-core.c (trad_unix_core_file_p):  If HOST_DATA_START_ADDR is
	specified, use it to locate the data section.
	* coffcode.h (coff_write_symbols):  Declare buffer as bfd_bytes
	rather than as chars (lint).

Thu Aug 22 22:20:19 1991  Stu Grossman  (grossman at cygint.cygnus.com)

	* aoutx.h, coffcode.h:  saberized.

Thu Aug 22 11:27:06 1991  Roland H. Pesch  (pesch at cygint.cygnus.com)

	* bfd.texinfo: some cleanup, reincorporated more intro matter from
	bfd.doc 
	bfd.c, targets.c: minor rewording of doc segments


Wed Aug 21 19:13:22 1991  John Gilmore  (gnu at cygint.cygnus.com)

	* trad-core.c (trad_unix_core_file_p):  Use HOST_TEXT_START_ADDR,
	etc, rather than TEXT_START_ADDR.
	* host-aout.c:  Remove #if 0 around whole thing.
	Update to modern (32/64-bit) a.out naming conventions.
	Include a large chunk of ../include/a.out.gnu.h to get macros that
	are not defined by the system include files.
	(host_aout_{32,64}_write_object_contents):  Use the WRITE_HEADERS
	macro used by the other a.out implementations.
	* Makefile.in:  Give dependencies to OPTIONAL_BACKENDS.

Wed Aug 21 14:33:06 1991  Roland H. Pesch  (pesch at cygint.cygnus.com)

	* Makefile.in: use targets "bfd.dvi" and "bfd.ps" instead of
	texdoc and psdoc; make these depend on generated .texi's
	
	* scanit, (new) unPROTO: turn PROTO macros into ANSI declarations in
	doc
	
	* bfd.c, reloc.c, syms.c: minor spelling/wording fixes in doc
	portions	 

	* Makefile.in, awkscan-ip, awkscan-p, intobfd,
	libbfd.h, libcoff.h, tolibcoff; new bfd-in.h, libbfd-in.h,
	libcoff-in.h: (a) use separate files for invariant parts of bfd.h,
	libbfd.h, and libcoff.h; (b) in generated parts of same, use less
	obtrusive marks indicating .c origins.

	* bfd.texinfo: generalize most references to linker

Tue Aug 20 15:18:02 1991  Roland H. Pesch  (pesch at cygint.cygnus.com)

	* Makefile.in: include core.p in PROTOS (building better bfd.h)
	* archures.c: remove empty foo() definition (crept in at vn1.9)

Mon Aug 19 13:48:22 1991  Roland H. Pesch  (pesch at cygint.cygnus.com)

	* bfd.texinfo: use @setchapternewpage on instead of lots of
	@page's; minor rephrasing in Introduction.

	* aoutx.h, archive.c, archures.c, bfd.c, bfd.texinfo, cache.c,
	coffcode.h, core.c, format.c, ieee.c, libbfd.c, libbfd.h, libcoff.h,
	oasys.c, opncls.c, reloc.c, section.c, syms.c, targets.c (documentation
	segments): used BFD (caps) more consistently as a name in
	discourse, fixed a few other minor typos and uses of fonts
	

Thu Aug  8 16:47:43 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* coffcode.h: fixed bug where string table size wasn't being swapped.

Thu Aug  1 16:35:28 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* section.c: added SEC_CONSTRUCTOR_TEXT|DATA|BSS flags

	* syms.c: added BSF_CONSTRUCTOR, BSF_WARNING and BSF_INDIRECT
	flags. (bfd_print_symbol_vandf) now knows what to do with the
	above flags.

	* aoutx.h: made translate_from_native_sym_flags and
	translate_to_native_sym_flags produce the above flags.
		

Wed Jul 31 09:53:52 1991  John Gilmore  (gnu at cygint.cygnus.com)

	* all files:  update copyright notices for GPL version 2.
	Install header comments and attribute most modules to their
	authors.  BFD's name is now officially "Binary File Descriptor",
	so remove any conflicting pejoratives.
	archures.h:  Consists solely of comments; remove it.

Fri Jul 26 18:11:34 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* Makefile.in, bfd.c: Made it compile again.

Fri Jul 19 08:17:09 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* newsos3.c, targets.c, coffcode.h: new patches from David Wood


Mon Jul 15 16:27:42 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* aoutf1.h archive.c bfd.c coffcode.h core.c ecoff.c ieee.c
	bfd.texinfo oasys.c opncls.c reloc.c srec.c: More documentation on
	lint fixes.

	* amdcoff.c bfd.texinfo Makefile.in : Folded in changes for amd
	29k coff by David Wood (wood@lab.ultra.nyu.edu).

Thu Jul  4 09:53:16 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* Everything: created some new files, core.c format.c, reloc.c,
	section.c and syms.c to split the functionality a bit better.
	Cleaned up the rest of the files a bit, and added some
	documentation.


Mon Jul  1 13:29:47 1991  David Wood (wood at david.ultra.nya.edu)

	* opncls.c, ../include/sys/h-sun3.h ../include/sys/h-sun4.h: fcntl
	really takes 3 arguments, patched code and ammended prototypes.

Fri Jun 14 13:19:40 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* ../include/bfd.h (struct bfd_target): Added new field
	"align_power_min" which contains the minimum alignment for a
	section. This is used in coff_new_section_hook. The field
	insertion necessitates an update of all backends..

	* aoutf1.h jump table field inserted
	
	* archive.c(snarf_ar_hdr)(bfd_slurp_coff_armap) can now parse dgux style extended
	filenames too.

	* bout.c(b_out_squirt_out_relocs) fix to assertion tests. Jump
	table field inserted.
	
	* coffcode.h(just about everything) Now patches up symbol tables
	using a different mechanism. The Intel major bug has been fixed,
	and the linker can self host on the Aviion and be debugged with
	gdb.

	* ecoff.c: new include and jump table patch, i386coff.c: new
	include and jump table patch,  icoff.c: new include and jump table
	patch, ieee.c: can now read archives containing ieee modules.,
	libcoff.h: added (combined_entry_type), libieee.h: uped max
	sections to 20, m68kcoff.c: new include and jump table patch,
	m88kbcs.c: new include and jump table patch, oasys.c: various bugs
	fixed. opncls.c: added bfd_alloc_grow and bfd_alloc_finish.
	srec.c: jump table patch. trad-code.c fixed #IF typeo

Fri Jun  7 12:35:46 1991  Sean Fagan  (sef at cygint.cygnus.com)
 
 	* coffcode.h (coff_swap_aux_in): added else case to deal with
 	filenames less than 9 characters.
 

Thu Jun  6 18:27:38 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* ../include/oasys.h oasys.c (oasys_archive_p): fixed so it works
	
	* srec.c: now allows any number of sections to be created in a
	file. Outputs addresses of the right length.

Thu May 30 15:30:10 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* bfd.c (bfd_check_format): Fixed problem where when a defaulted
	target didn't match, the format got set to the attempted match,
	breaking a future test.

        *../include/i386coff.h : fixed typo in type field with size

	* i386coff.c icoff.c m88k-bcs.c ecoff.c ../include/bfd.h : Added
	support in the jump table for the swapping routines exported to
	gdb. Now gdb works with the 386.

Tue May 28 17:21:43 1991  John Gilmore  (gnu at cygint.cygnus.com)

	* Merge in changes from gdb-3.95 release.
	Makefile.in:  Allow hmake and tmake files to add OFILES.
	aoutf1.h:  
	bfd.c:  support specific targets as well as searching.  When
	searching, take default target in preference to others.
	bfd.doc:  typos
	ieee.c, oasys.c:  Avoid using the "tdata" macros left of assignment.
	liba.out.h:  Don't hard-code file offsets; use N_ macros for them.
	libbfd.h:  Support specific targets as well as searching.
	opncls.c:  Support specific targets as well as searching.
	targets.c:  Search is short-circuited if default target matches.
	liboasys.c, libieee.c:  Undo bothner changes that make macros
	work to the left of assignment, but which depend on the
	representations of different pointer types being the same.

Fri May 24 18:56:52 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* i386coff.c: created.
	* coffcode.h: added support for 386. 
	* Makefile.in: added support for 386. 
	* ../include/i386coff.h: created

Wed May 22 07:26:38 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* coffcode.h: removed all put_x_<sizes>
	* libbfd.c: Changed #ifdef __GNUC__ to #ifdef HOST_64_BIT, Added
	DEFUNS 


Tue May 21 08:58:58 1991  Steve Chamberlain  (steve at cygint.cygnus.com)
	(bothner)
	* opncls.c: Changed obstack_chunk_alloc use xmalloc

Mon May 20 17:12:17 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* everything: Removed sysdep.h from bfd.h and put back into files
	from which it was split out. Now 64 bit version is built with a
	-DHOST_64_BIT="long long" on the compile line.


Fri May 17 19:35:26 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	Changed all the [get|put][name] routines to use  [get|put]_[size
	in bytes].  

	Put in support for 64 bit work. Now two versions of bfd may be
	generated, according to the state of TARGET_64_BIT, one which is
	32 bit only, and one which is 64/32 bits. 
	Created new back end 'demo64' to test 64 bit functionality.

	Renamed some files to work on DOS.

	* archive.c: lint * bfd.c: prototypes and lint. * ecoff.c: added
	64bit transfer 	* icoff.c: added 64bit transfer * ieee.c: name
	chage, 64 bit transfer. * liba.out.h: Split out common code from
	sunos and newsos into liba.out. Name changes and prototype mods. *
	libbfd.c: lint and prototypes, extra 64bit swaps. * libbfd.h:
	prototypes for new functions. * libcoff.h: lint * libieee.h: make
	work on DOS * liboasys.h: make work on DOS * m88k-bcs.c: Name
	change and 64bit stuff.* newsos3.c: common code removed, new jump
	table. * oasys.c: Name change * opncls.c: Portability fixes *
	srec.c: Name changes * sunos.c: Removed comon code. * targets.c:
	Added demo * aout32, aout64.c include  aoutx.h * bout.c: used to
	be called b.out.c * coffcode.h: used to be called coff-code.h, now
	64bit ized. * demo64.c: 64 bit a.out back end


	


Thu May 16 16:02:07 1991  Steve Chamberlain  (steve at cygint.cygnus.com)
	from bothner
 	* libieee.h: Make ieee_data and ieee_ar_data macros usable
	on LHS of assignment, even when using old compilers.
	* liboasys.h: Ditto for oasys_data and oasys_ar_data.
	* m68kcoff.c: Add enum-to-int casts to accomodate old compilers.
	* newsos3.c: Fix definitions of SEGMENT_SIZE and TEXT_START_ADDR.
	* opncls.c: Define S_IXUSR, S_IXGRP, S_IXOTH if undefined.
	* targets.c: Add declaration of newsos3_vec.


Mon May 13 10:03:29 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* aout.c: fixxed some of the problems with filepos calculation.
	(swap_ext_reloc): fixed problem with creation of relocs.
	(aout_set_section_contents): fixed filepos problem

	* coff-code.h: (swap_filehdr_in, swap_filehdr_out) add.
	(swap_filehdr) delete. Changed all the usage of bfd_h_put_x.
	(swap_aouthdr_in, swap_aouthdr_out) add. (swap_aouthdr) delete.
	(coff_real_object_p) cleaned up, added MIPS. (coff_object_p)
	cleaned up. (coff_write_object_contents) cleaned up. 

	* ecoff.c: Totally different. Now supports ecoff fully.

	* icoff.c: fixed problems in relocation callout.

	* libcoff.h: (struct icofdata) removed hdr structure from tdata.

	* m68kcoff.c: updated target vector.

	* sunos.c: (choose_reloc_size) added: (sunos4_callback) calls
	choose_reloc_size. (sunos4_write_object_contents) now calls
	choose_reloc_size so outputs relocs correctly, also calculates the
	size of the sections correctly.



Fri May 10 16:58:53 1991  John Gilmore  (gnu at cygint.cygnus.com)

	Merge Per Bothner's changes to modularize BFD a.out a bit.

	* libbfd.h, libbfd.c (bfd_generic_get_section_contents):  Add.
	* ieee.c:  Cast enums to int before comparing them, for brain-
	dead compilers.
	* coff-code.h:  Remove coff_get_section_contents, and use the
	generic one instead.

	* aout.c:  Derive new module from sunos.c, containing generic
	support code for all kinds of a.out files.

	* sunos.c: Remove all code that goes in aout.c.  Split out
	machine dependent followup in sunos4_object_p into
	sunos4_callback.  Use JUMP_TABLE(aout) for the transver vector,
	and redefine only the names we CHANGE, not all the names.  Drop
	the little-endian vector, and rename the vector as sunos4 rather
	than generic.

	* b.out.c:  Use aout.c routines for most of the work.  Slight
	changes for the new regime.  Remove close_and_cleanup and
	get_section_contents in favor of generics.  New transfer vector
	regime.

	* newsos.c:  New support for Sony NEWS, another a.out format.

	* ecoff.c:  Remove close_and_cleanup.  New tvec regime.
	* icoff.c, m88k-bcs.c:  Add write_contents to tvec.
	* ieee.c, oasys.c:  Remove close_and_cleanup, add write_contents
	to tvec. 
	* opncls.c (bfd_close):  Call format-dependent write_contents
	routine, if writing, before calling target-dependent
	close_and_cleanup routine (which is now always generic, I think).
	* srec.c:  Use bfd_alloc instead of malloc.  Remove
	close_and_cleanup and move code from it to
	srec_write_object_contents.  Add write_contents to tvec.
	* targets.c:  Remove a.out little vector, replace a.out big
	vector with SunOS vector.  FIXME:  Need Vax support again now.

	* libbfd.h:  Add write_contents format-dependent-vector to the
	bfd_target vector.  Supply a generic close_and_cleanup routine.
	* liba.out.h:  Handle the new aout.c split.  Add prototypes for
	all routines defined in aout.c.  Rename "sunos" things to "aout"
	things.  Add a few fields where needed for various formats.
	* Makefile.in:  Add aout.c and newsos.c.

	* archive.c, ieee.c, oasys.c:  Lint.

Fri May 10 12:34:48 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* ../include/bfd.h
	changed forward declaration struct stat; to reduce warnings. Changed
	comment on bfd_h_<x>_x.

	* ../include/m68kcoff.h, ../include/intel-coff.h,
	../include/m88k-bcs.h
	Now there are two incarnations of relocs, linenos and syments. One for
	internal digestion, and one full of char arrays for I/O. The original
	names have gone to detect errors.

	* Makefile.in, m68kcoff.c, targets.c
	Test new structure code with a 68k coff implementaion

	* coff-code.h, icoff.c, coffswap.c, libcoff.h 
	Fixed all the places where there were problems with the size and
	alignments of structures on disk and structures in memory. #ifed out
	all the code in coffswap.c, since it should be done using the target
	swap routines now.

Thu May  9 11:00:45 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* ieee.c (do_one, ieee_slurp_section_data): now supports the load
	multiple reloc command.

	* sunos.c (sunos4_set_section_contents): Made it so that sections
	are always padded to their alignment size.

Sat May  4 15:49:43 1991  John Gilmore  (gnu at cygint.cygnus.com)

	* archive.c, bfd.c, coff-code.h, opncls.c, sunos.c, trad-core.c:
	Clean up types and such (saber C problems).
	* ecoff.c:  Clean up types and such.  Remove routines that are
	not used.  Fix up reading and swapping of shorts from files.

   Notes on bfd-0.5.2-patch1a, from Per Bothner:

	* a.out.vax.c: Remove two bogus "static" from prototypes.

	* ecoff.c: Got rid of lots of non-working junk (that had
	been copied directly from coff-code.h).
	Updated to be consistent with updates to icoff.c and coff-code.h.

	* libbfd.h: Added definitions for S_IXUSR, S_IXGRP, and S_IXOTH
	if they're missing (as they are in (BDS-4.3-based) NewsOS-3).

	* sunos.c (n_txtoff): (Re-)Add support for sony. This is a kludge,
	but until the target_vector is automatically generated,
	it's as good as any. Note that the text offset is the only
	difference between NewsOS and SunOs (including magic numbers).
	(Most of the sunos_* routines should to renamed bsd_*
	and move to a bsd.c file. Then (and when the target_vector
	is automatically generated) it might make sense to create
	a separate Sony target.)

	* sysdep.h: Don't declare fread and fwrite. Causes trouble
	on some systems, and doesn't help on others.
	Similarly, only define X_OK if not already defined.

	* trad-core.c: Don't include sys/stat.h - at least
	on NewsOS 3, it has already been included.

Tue Mar  5 01:47:57 1991  John Gilmore  (gnu at cygint.cygnus.com)

	* coff-code.h (bfd_coff_swap_sym, bfd_coff_swap_aux,
	bfd_coff_swap_lineno):  Export the routines that byte-swap COFF
	symbol tables if necessary when reading them in, so gdb can use
	them.  Add "bfd_coff_" to the names so they won't conflict with
	names in calling programs.  FIXME-soon:  if coff-code.h is
	included in two BFD modules, this will cause duplicate
	definitions; the routines should be exported to a separate,
	common, module (probably along with a mess of other ones).

Sat Mar  2 12:11:26 1991  John Gilmore  (gnu at cygint.cygnus.com)

	Improve modtime support.

	* bfd.h:  Add boolean mtime_set, and declare bfd_get_mtime.
	Remove #define for bfd_get_mtime.  Remove gratuitous comment.
	* bfd.c (bfd_get_mtime):  New fn, caches mtime, gets if not cached.
	BUG:  archive members still do not get correct mod times.

	Improve floating point support for core files.

	* sunos.c (struct core):  Change void *fpa_dummy to double fp_stuff.
	(sunos4_core_file_p):  Create a second registers section in the
	core file, called ".reg2", for the float registers.

Thu Feb 14 15:49:06 1991  Gumby Vinayak Wallace  (gumby at cygint.cygnus.com)

	* many changes to improve archive handling; found a logic flaw in
	  bfd_check_format which only just happened to work by cooncidence.

Thu Feb 14 07:53:16 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* bfd.c (bfd_perform_relocation): fixed to use output_offsets
	correctly.
	
	* bfd.h: changed type of udata in asymbol to void *, like it
	should be. Added bfd_reloc_dangerous enum member.

	* coff-code.h: Fixed it so that internally generated symbols get
	their values relocated correctly in all cases. Removed calls to
	xmalloc.

	* icoff.c: Not understanding the destination symbol of a reloc is
	not a failure any more, just 'dangerous'. This allows linking of
	b.out and coff images.

	* sunos.c: Cleaned up the way that ZMAGIC section sizes are
	calculated.


Tue Feb 12 13:25:46 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* sunos.c (translate_to_native_sym_flags): fixed
	sym_pointer->n_value so that symbols on the way out get their
	section relative values calculated correctly.

	* coff-code.h (mangle_symbols): fixed problem where tags were not
	being relocated for structs, enums, unions. Also various lints.

Mon Feb 11 19:52:26 1991  Gumby Vinayak Wallace  (gumby at cygint.cygnus.com)

	* archive.c (get_elt_at_filepos): system_call_error returned
	  incorrectly.

Sun Feb 10 23:18:40 1991  Gumby Vinayak Wallace  (gumby at cygint.cygnus.com)

	* Resolve the use of no_error and system_call_error.
	  The bfd library itself now will never set bfd_error to
	  no_error.

	  The code still needs to be combed to make sure all the error
	  codes are correct.  I suspect they are not always set correctly.

	* The names of all the messages have _ prepended because the sun
	  bundled compiler can't distinguish from a macro which takes an
	  argument and the same identifier in a non-macro context.

	* The reason for the above being that entry points which used to
	  be trampoline functions are now just macros which expand to a
	  direct call through the bfd's xfer vector.

	* (../include/intel-coff.h) F_AR32WR: fix this constant.  Why
	  must gas have its own version of everything (the gas version
	  had the correct value)

Tue Feb  5 11:46:53 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

	* b.out.c: Added patches supplied by chrisb@mipon2.intel.com to
	properly support i960 architecture and output correct reloc stuff.

	* bfd.h: added prototype for bfd_printable_arch_mach, added
	BFD_FAIL

	* coff-code.h: Applied patches from chrisb to support i960
	architecture, zero relocs and swap them correcly and conditionally
	compiled the timestamp.

	* sunos.c: Made the default section alignment 2^3 so that doubles
	are done properly. Fixed the same reloc bug that was in b.out.c

	* sysdep.h: Now compiles on a Posix box

Wed Jan 30 21:36:26 1991  John Gilmore  (gnu at cygint.cygnus.com)

	* icoff.c:  Fix comment on big-endian version.
	* coff-code.h:  Make HAS_RELOC really work (it's backwards from
	F_RELFLG).  Set F_AR32WR in output files if little endian
	architecture.

Tue Jan 29 20:56:10 PST 1991 steve@cygnus.com
	
	* archures.c fixed =/== typo
	
	* sunos.c added architecture stuff for output. Fixed
	bug where files where vma(data) != size(text) 
	were processed wrong.

	* coff-code.h added a lint cast

	* (../include/a.out.sun4.h) fixed it so zmagic
	worked

Mon Jan 28 19:15:29 PST 1991 steve@cygnus.com

	* archive.c removed loads of includes, and fixed bug where string
	table didn't have a null at the end.

	* bfd.c fixed includes, added symbols argument to 
	canonicalize_reloc entry point.

	* libbfd.c fixed includes and added some lint patches.
	
	* targets.c added both sorts of intel coff.

	* b.out.c fixed included, changed was the canonical
	relocs were done.

	* icoff.c added support for callj and big and little
	enidian tables.

	* opncls.c added chmod+xing for files with EXEC_P set.

	* sunos.c fixed includes. Changed default section
	alignement to words. Fixed relocation stuff to work with
	new scheme

	* bfd.h various new types added, prototype for new
	reloc calls, changed bfd->iostream to a void *
	to including files don't need stdio.h.

	* libcoff.h added conversion table to tie relocs to
	canonical symbols
		
	* sysdep.h created

	* coff-code.h fixed includes. Added code to support
	big and little endian formats. Various lints. Better
	processing of symbols. Changed reloc stuff to new
	order

	* libbfd.h fixed includes


Mon Jan 21 11:53:51 PST 1991 steve@cygnus.com
	
	* bfd.h	changed name of alignment entry in sec_struct to
	alignment_power, because of conflicting uses within bfd.
	Now it should be obvious that it's a 2**n alignment
	specifier. Removed start_pad, end_alignment, block, minsize,
	output_file_alignment, subsection_alignment and original_vma fields.
	Added align_power() macro. Fixed bfd_section_alignment
	acessor macros. Added bfd_symbol_same_target macro.

	* b.out.c (b_out_write_object_contents) fixed to use
	new alignment member. Fixed (callj_callback) to use section
	relative symbols properly.

	* sunos.c (sunos4_object_p) fixed to use new alignment_power.
	Fixed (translate_from_native_sym_flags) to correctly make	
	symbols section relative.

	* bfd.c (bfd_errmsg) fixed various enum cast problems. 
	(bfd_make_section) took out initialization of obsolete members.
	(bfd_print_symbol_vandf) added

	* opncls.c (bfd_create) created.

	* coff-code.h (coff_new_section_hook) took away refs
	to obsolete members. (make_a_section_from_file) added
	conversion between alignment types. (coff_symbol_from)
	added. (coff_count_linenumbers) only counts linenumbers
	if symbol is of coff-type. (coff_mangle_symbols) only
	heavily mangles symbols if symbol is coff-type.
	(coff_write_symbols) various lints. (coff_write_object_contents)
	various lints and modification for alignment conversion.
	(coff_slurp_relocs) fixed for use with new asection shape.

Sat Jan 19 16:10:42 PST 1991 steve@cygnus.com

	* archive.c lots of lint

	* b.out.c added callj relocation support, upgrated reloc howto.
	Fixed so that asymbol and reloc records are output 
	correctly.

	* bfd.c lots of lint, support for new bfd entry point
	bfd_print_symbol.

	* bfd.h changed definition of asymbol to contain pointer to
	owning bfd, removed target dependencies.

	* cache.c took out print statements, put in BFD_ASSERT calls.

	* coff-code.h various lints, corrected linenumber output
	functionality. Added support for new style asymbols and
	bfd_print_symbol. Fixed so that asymbol and
	reloc records are handled correctly. Added timestamp.

	* icoff.c Added support for new howto shape.
	
	* liba.out.h Added support for new asymbol shape

	* libbfd.c various lints

	* libbfd.h various lints

	* libcoff.h added support for new asymbol shape.

	* sunos.c  various lints. Added support for new asymbol shape
	and bfd_print_symbol.

Wed Jan 16 21:38:09 PST 1991 steve@cygnus.com

	* b.out.c removed prototype of sunos4_ennativate_symtab, lots of
	pointer lint. Added support for callj relocation. Fixed bug where
	the last 32 bytes of the text section were overwritten by data. Fixed bug
	where archives of b.out didn't work due bfd_slurp_extended_name_table
	returning false.

	* sunos.c added support for n_other field. Braced the howto table so
	that it won't be affected by any lengthing of the howto struct typedef.
	Various lints

	* bfd.h added support for n_other field, added special_function 	
	reloc type, modified bfd_perform_relocation prototype. Added bfd_h_get_x
	macros.

	* bfd.c upgraded bfd_perform_relocation, various lints.

Wed Jan 16 01:55:53 1991  John Gilmore  (gnu at rtl)

	* ChangeLog:  Started ChangeLog for BFD.
	* ToDo:  Create file for suggestions.

	* Makefile:  Support easy loading into Saber C.
	Add dependencies for icoff.o and bcs88kcoff.o.
	Rename coff.c to coff-code.h.  Change callers.

	* bfd.c (bfd_check_format):  Allow the check_format routines
	to return the desired target vector, rather than just a Boolean.
	bfd.h (bfd_check_format):  Change function pointer return type.
	archive.c (bfd_generic_archive_p):  change callee.
	b.out.c (b_out_little_object_p, b_out_big_object_p,
	b_out_real_object_p):  change callee.
	libbfd.c (_bfd_dummy_target):  Dummy routine replacing bfd_false
	in check_format transfer vectors that need a filler.
	libbfd.h (bfd_generic_archive_p, _bfd_dummy_target):  Fix decls.
	bcs88kcoff.c:  change callee.
	coff-code.h (coff_real_object_p, coff_big_object_p):  change callee.
	icoff.c:  change callee.
	sunos.c (sunos4_object_p, sunos4_core_file_p):  change callee.

	* libbfd.c (zalloc):  It should actually zero the storage!
	This was commented out for some reason.

	* libbfd.h:  Add malloc, xmalloc, memcpy, and fatal decls.
	This is so callers can avoid <stdlib.h> which doesn't exist
	on older systems.

	* bfd.c (map_over_sections):  Add debugging code, since I
	noticed the section count for sunos core files was bad, but only
	GDB had detected the problem.
	(bfd_set_section_lineno_size, bfd_set_section_linenos,
	bfd_get_section_linenos):  Remove obsolete functions.
	(bfd_apply_relocations):  Use longs, not ints, for the math.

	* bfd.h:  Declare enum boolean and struct bfd_target as well
	as typedefs for them.  Remove obsolete
	bfd_get_section_lineno_size.

	* cache.c:  Make the "fdopen" support work.  Keep better track
	of how many files are open.  Centralize the opening of files
	and be sure bfd_open[rw] actually try to open the file.  Evade
	linked list initialization problems.

	* b.out.c, coff-code.h, opncls.c, sunos.c:  lint.

	* coff-code.h (coff_slurp_symbol_table):  Null-terminate symtab names.

	* cplus-dem.c:  Delete file, since it is not part of BFD.

	* opncls.c (bfd_openr):  Eliminate misplaced #if 0 code.
	(bfd_openr, bfd_openw):  Actually open the file, give error now.
	
	* sunos.c (sunos4_core_file_p):  Set section count.
	(sunos4_set_section_linenos, stab_names, fprint_name):  Eliminiate
	obsolete definitions.
	(_write_symbol_table):  Initialize <idx> counter.
	(foop):  Eliminate debugging code.




