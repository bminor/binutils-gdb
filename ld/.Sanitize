# Sanitize.in for devo.
# $Id$
#

# Each directory to survive it's way into a release will need a file
# like this one called "./.Sanitize".  All keyword lines must exist,
# and must exist in the order specified by this file.  Each directory
# in the tree will be processed, top down, in the following order.

# Hash started lines like this one are comments and will be deleted
# before anything else is done.  Blank lines will also be squashed
# out.

# The lines between the "Do-first:" line and the "Things-to-keep:"
# line are executed as a /bin/sh shell script before anything else is
# done in this 

Do-first:

if ( echo $* | grep keep\-v9 > /dev/null ) ; then
	keep_these_too=""
fi

# All files listed between the "Things-to-keep:" line and the
# "Files-to-sed:" line will be kept.  All other files will be removed.
# Directories listed in this section will have their own Sanitize
# called.  Directories not listed will be removed in their entirety
# with rm -rf.

Things-to-keep:
ChangeLog
Makefile.in
README
TODO
a29k.sc-sh
a29k.sh
aout.sc-sh
aout-mipsbsd.sc-sh
cdtest-foo.cc
cdtest-foo.h
cdtest-func.cc
cdtest-main.cc
cdtest.exp
config
config.h
configure.bat
configure.in
ebmon29k.sc-sh
ebmon29k.sh
generic.em
genscripts.sh
h8-doc.texi
ld.1
gen-doc.texi
gld960.em
gld960.sh
go32.sh
hp300bsd.sh
h8300hms.em
h8300hms.sc-sh
h8300hms.sh
h8500hms.em
h8500hms.sc-sh
h8500hms.sh
i386aout.sh
i386bsd.sh
i386coff.sc-sh
i386coff.sh
i960.sc-sh
ld.h
ld.texinfo
ldctor.c
ldctor.h
ldemul.c
ldemul.h
lderror.c
lderror.h
ldexp.c
ldexp.h
ldfile.c
ldfile.h
ldgram.y
ldindr.c
ldindr.h
ldint.texinfo
ldlang.c
ldlang.h
ldlex.h
ldlex.l
ldmain.c
ldmain.h
ldmisc.c
ldmisc.h
ldsym.c
ldsym.h
ldver.c
ldver.h
ldwarn.c
ldwarn.h
ldwrite.c
ldwrite.h
lexsup.c
lnk960.em
lnk960.sh
m68kcoff.sc-sh
m68kcoff.sh
m88kbcs.sc-sh
m88kbcs.sh
mips.sc-sh
mipsbig.sh
mipsbsd.sh
mipsidt.sh
mipslit.sh
mri.c
mri.h
go32.sh
mkscript.c
news.sh
relax.c
relax.h
sh.em 
sh.sc-sh 
sh.sh
st2000.em
st2000.sc-sh
st2000.sh
sa29200.sc-sh
sa29200.sh
scripts
sun3.sh
sun4.sh
vanilla.em
vanilla.sc-sh
vanilla.sh
z8ksim.em
z8ksim.sc-sh
z8ksim.sh

Do-last:

echo Looking for signs of \"v9\"...

# Don't try to clean directories here, as the 'mv' command will fail.
# Also, grep fails on NFS mounted directories.
if ( echo $* | grep keep\-v9 > /dev/null ) ; then
	for i in * ; do
		if test ! -d $i && (grep sanitize-v9 $i > /dev/null) ; then
			echo Keeping v9 stuff in $i
		fi
	done
else
	for i in * ; do
		if test ! -d $i && (grep sanitize-v9 $i > /dev/null) ; then
			echo Cleaning the \"v9\" out of $i...
			cp $i new
			sed '/start\-sanitize\-v9/,/end-\sanitize\-v9/d' < $i > new
			if [ -n "${safe}" -a ! -f .Recover/$i ] ; then
				echo Caching $i in .Recover...
				mv $i .Recover
			fi
			mv new $i
		fi
	done
fi

#
#
# $Log$
# Revision 1.57  1993/04/27 01:36:30  sac
# sh.em, sh.sh, sh.sc-sh: New files supporting Hitachi SH.
#
# Revision 1.56  1993/04/09  17:44:54  sac
# Support for the H8/500
#
# Revision 1.55  1993/03/30  23:24:53  pesch
# ld.texinfo:
# Conditionalize manual to maintain Cygnus, Hitachi versions in parallel.
# (Texinfo conditionals are stable enough to permit this, at last!)
# NOTE: @ignore'd passages from earlier versions DELETED; use CVS history
#       to retrieve if wanted.
#
# gen-doc.texi, h8-doc.texi: manual configuration definitions.
#
# Makefile.in: link config defn (`gen' by default) to configdoc.texi, included
#       by ld.texinfo
#
# .Sanitize: add gen-doc.texi, h8-doc.texi
#
# Revision 1.54  1993/03/09  18:12:14  ian
# Removed obsolete Makefile.dos.
#
# Revision 1.53  1993/03/04  20:49:05  ian
# 	* mips.sc-sh: Added variables which may be overridden by a
# 	specific emulation.
# 	* mipsidt.sh: New file; emulation for IDT MIPS board.
# 	* Makefile.in (ALL_EMULATIONS): Added em_mipsidt.o.
# 	(em_mipsidt.c): New target.  Uses mipsidt.sh and mips.sc-sh.
# 	* config/mips-idt.mt: New file; sets EMUL to mipsidt.
# 	* configure.in (mips-idt-ecoff): New target; uses mips-idt.
#
# Revision 1.52  1993/02/28  14:42:15  raeburn
# mips-bsd and 386bsd support
#
# Revision 1.51  1993/02/26  18:53:13  dje
# Added initial sparc-v9 support.
#
# Revision 1.50  1993/02/13  10:15:14  zoo
# removing excess verbosity
#
# Revision 1.49  1993/02/03  17:11:08  ian
# Keep forgetting those .Sanitize files.
#
# Revision 1.48  1993/01/22  22:30:34  ian
# Fri Jan 22 14:22:44 1993  Ian Lance Taylor  (ian@cygnus.com)
#
# 	* mips.sc-sh: New file.  Ultrix, and hopefully other MIPS ECOFF
# 	targets, linker script.
# 	* mipslit.sh: New file.  Little endian MIPS emulation.
# 	* config/mips-lit.mt: New file.  Use mipslit emulation.
# 	* configure.in (mips-dec-ultrix*): Use target mips-lit.
# 	* Makefile.in (ALL_EMULATIONS): Added em_mipslit.o.
# 	(em_mipslit.c): New target.  Uses mipslit.sh.
#
# Revision 1.47  1992/09/25  18:10:41  sac
# Fri Sep 25 11:08:01 1992  Steve Chamberlain  (sac@thepub.cygnus.com)
#
# 	Added initial support for the z8k
# 	* z8ksim.em, z8ksim.sc-sh, z8ksim.sh: new files
# 	* configure.in, Makefile.in: modified to reflect above
#
# 	* ldlang.c (lang_check): when linking conflicting architectures,
# 	make the output file reflect at least one of the bad inputs.
#
# Revision 1.46  1992/09/11  20:43:30  sac
# Sanitize slip
#
# Revision 1.45  1992/09/11  17:47:22  sac
# Add i386coff.sh
#
# Revision 1.44  1992/09/09  18:59:04  ian
# Brought in from p3.  If anybody knows good numbers for m68k COFF,
# please let me know, or plug them in yourself.
#
# Wed Sep  9 11:52:58 1992  Ian Lance Taylor  (ian@cygnus.com)
#
# 	* Makefile.in, m68kcoff.sh, m68kcoff.sc-sh, config/m68k-coff.mt:
# 	added m68k-coff emulation mode, stolen from a29k emulation.
# 	Almost certainly wrong, but perhaps better than sun3.
#
# Also fixed an error message in configure.in so that it started with
# '***' like the other error messages do.
#
# Revision 1.43  1992/09/03  22:56:45  bothner
# Add TODO.
#
# Revision 1.42  1992/09/01  22:14:49  bothner
# Add scripts.
#
# Revision 1.41  1992/08/31  01:14:44  bothner
# 	* cplus-dem.c:  Removed.  Use the version in libiberty now.
# 	* ldmisc.c:  Use new libiberty version of cplus_demangle().
#
# Revision 1.40  1992/08/17  18:35:55  pesch
# Use new name of man page (ld.1).
#
# Revision 1.39  1992/08/07  01:37:34  bothner
# 	* ldint.texinfo:  New internals manual (beginnings thereof).
# 	* PORTING:  Removed, merged into ldint.texinfo.
#
# Revision 1.38  1992/08/05  04:15:24  bothner
# 	* cdtest-main.cc, cdtest-func.cc, cdtest-foo.h, cdtest-foo.cc,
# 	cdtest.exp:  A test program (copied from libg++/test-install)
# 	that tests that constructor and destructors are handled
# 	corrrectly.
#
# Revision 1.37  1992/05/02  02:08:16  sac
# New stuff for 29200
#
# Revision 1.36  1992/05/01  22:08:40  sac
# Add mri.h
#
# Revision 1.35  1992/04/17  15:59:22  sac
# 	* relax.c: added handling for new "padding" seclet type, used to
# 	fill out gaps between section.
# 	* ldgram.y, ldlex.l: now -defsym on the command line is done
# 	properly.
#
# Revision 1.34  1992/04/15  23:11:53  sac
# added mri.c
#
# Revision 1.33  1992/04/05  01:46:05  sac
# New lexer.
#
# New targets for h8/300 simulator and DOS
#
# Revision 1.32  1992/03/07  18:32:27  sac
# *** empty log message ***
#
# Revision 1.31  1992/02/27  17:23:59  sac
# Why didn't it start emacs
#
# Revision 1.30  1992/02/22  00:11:38  sac
# DJ naming change
#
# Revision 1.29  1992/02/16  20:49:26  bothner
# *** empty log message ***
#
# Revision 1.28  1992/02/07  22:32:29  hgs
# added h8300hms.c and h8300hms.sc
#
# Revision 1.27  1992/01/29  16:44:08  sac
# ldlnk960.c: Special #ifdef to choose little endian ony
# ldgram.y: allow forward ref of section
#
# Revision 1.26  1992/01/24  22:35:55  sac
# .Sanitize: added relax.c
# ldsym.c ldlang.* more map stuff
#
# Revision 1.25  1991/12/12  03:42:08  sac
# New dos files
#
# Revision 1.24  1991/12/08  01:27:59  sac
# *** empty log message ***
#
# Revision 1.23  1991/11/15  21:09:49  bothner
# Remove ldgld.c, ldgld68k.c, ldm88k.c, since these are
# now automatically generated.
#
# Revision 1.22  1991/11/06  09:26:59  sac
# Added three files which had been forgotten
#
# Revision 1.21  1991/11/05  21:56:06  sac
# *** empty log message ***
#
# Revision 1.20  1991/11/05  20:36:54  sac
# *** empty log message ***
#
# Revision 1.19  1991/11/04  00:46:44  steve
# 	 i386 aout changes from Bob Kukura
#
# Revision 1.18  1991/10/12  06:43:01  bothner
# Fixed typo.
#
# Revision 1.17  1991/10/11  19:31:38  steve
# *** empty log message ***
#
# Revision 1.16  1991/10/10  11:59:25  rich
# updating
#
# Revision 1.15  1991/10/09  20:40:37  bothner
# Added h8300hds.{c,sc}.
#
# Revision 1.14  1991/10/05  04:55:04  gnu
# * Makefile.in:  Avoid using $< in non-suffix rules (breaks on Sun Make).
# * ldfile.c, ldlang.c, ldmain.c, ldwrite.c:  Cope with renames of a
# few BFD types & enums.
# * ChangeLog:  Create.
#
# Revision 1.13  1991/09/27  20:19:25  bothner
# Update for deleted (and some added) files.
#
# Revision 1.12  1991/09/24  02:30:20  rich
# ldgram.h is not cvs'd source.
#
# Revision 1.11  1991/09/23  20:59:12  steve
# Cleaned it up for 88k
#
# Revision 1.5  1991/08/27  00:21:34  steve
# Added config.sub
#
# Revision 1.4  1991/08/06  21:28:21  steve
# Patches to fix bugs reported by roland McGrath
#
# Revision 1.3  1991/08/01  23:59:06  steve
# *** empty log message ***
#
# Revision 1.2  1991/07/16  00:31:15  steve
# *** empty log message ***
#
# Revision 1.1  1991/05/23  21:45:12  rich
# Initial revision
#
#
#

# End of file.
